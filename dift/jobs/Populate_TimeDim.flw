{"creationTimeStamp":null,"modifiedTimeStamp":null,"createdBy":null,"modifiedBy":null,"version":2,"id":null,"name":"Populate_TimeDim.flw","description":null,"properties":{"UI_PROP_DF_OPTIMIZE":"false","UI_PROP_DF_ID":"80444b43-4498-4500-9d68-ea08649c0add","UI_PROP_DF_EXECUTION_ORDERED":"false"},"links":[],"nodes":{"id-1626864821396-73863":{"nodeType":"step","version":1,"id":"id-1626864821396-73863","name":"Timedim","priority":0,"properties":{"UI_PROP_XPOS":"249","UI_PROP_YPOS":"100","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_OUTPUT_PORT|outTables|0":"f15988f6-2b2c-41e8-bbc3-30f4a7ce3e22|Output tables 1|Output tables","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_PORT_ID|inTables|0":"55cc3ce6-4e1f-402a-bb1f-9dde71690ec7","UI_PROP_PORT_LABEL|inTables|0":"Input tables 1","UI_PROP_PORT_DESCRIPTION|inTables|0":"Input tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepUri":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde","arguments":{"codeOptions":{"code":" /****************************************************/\n /* Customized TIMEDIM.SAS program for DI Class.     */\n /****************************************************/\n\nlibname difttgt \"/workshop/dift/datamart\";\n\n\ndata difttgt.TimeDim(label='Time Dimension' sortedby=Date_ID);\n   length Date_ID 4;\n   format Date_ID date9.;\n   Do Date_ID='01jan2001'd to '01jan2022'd;\n      WeekDay_Num=Weekday(Date_ID);\n      WeekDay_Name=Strip(Put(Date_ID,downame.));\n      Month_Num=month(Date_ID);\n      Year_ID=Put(Year(Date_ID),4.);\n      Month_Name=Strip(Put(Date_ID,monname.));\n      Quarter=put(Year_ID,4.)!!'Q'!!put(qtr(Date_ID),1.);\n      If Put(Date_ID,holiday.) ne 'Workday' then Holiday_US=Put(Date_ID,holiday.);\n      if Month_Num <=11 then Fiscal_Year=Put(Year(Date_ID),4.); \n         else Fiscal_Year=Put(Year(Date_ID)+1,4.);\n      if Month_Num <=11 then Fiscal_Month_Num =month(Date_ID)+1; \n         else Fiscal_Month_Num=1;\n      Fiscal_Quarter=Fiscal_Year!!'Q'!!put(ceil(Fiscal_Month_Num/3),1.); \n      Output;\n      Holiday_US=' ';\n   end;\nrun;\n\nproc sql;\n   create unique index Date_ID on difttgt.TimeDim(Date_ID);\nquit;\n\n* proc datasets lib=difttgt;\n*    delete TimeDim;\n* run;\n\n\n\n","logHTML":"","resultsHTML":"","variables":[{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}},{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0}}]}}},"id-1626864999928-74168":{"nodeType":"step","version":1,"id":"id-1626864999928-74168","name":"Initialize Libraries","priority":1,"properties":{"UI_PROP_XPOS":"92","UI_PROP_YPOS":"107","UI_PROP_COLORGRP":"0","UI_PROP_IS_INPUT_EXPANDED":"false","UI_PROP_IS_OUTPUT_EXPANDED":"false","UI_PROP_INPUT_PORT|inTables|0":"fe885d33-ca66-4923-9345-f1f7f5b01d90|Input tables 1|Input tables","UI_PROP_NODE_DATA_ID":"a7190700-f59c-4a94-afe2-214ce639fcde","UI_PROP_PORT_ID|outTables|0":"ed294a96-8c5e-415d-a9be-c084b0320db2","UI_PROP_PORT_LABEL|outTables|0":"Output tables 1","UI_PROP_PORT_DESCRIPTION|outTables|0":"Output tables"},"portMappings":[{"mappingType":"tableStructure","portName":"outTables","portIndex":0,"tableStructure":{"columnDefinitions":[]}}],"stepUri":"/dataFlows/steps/a7190700-f59c-4a94-afe2-214ce639fcde","arguments":{"codeOptions":{"code":"/*Orion Case Study*/\nlibname ordetail base \"/workshop/orionstar/ordetail\"; \nlibname orformat base \"/workshop/orionstar/orfmt\"; \noptions fmtsearch=(work orformat.orionfmt library); \nlibname diftora ORACLE path=\"client.demo.sas.com:1521/ORCL\" authdomain=\"OracleAuth\";\nlibname difttgt base \"/workshop/dift/datamart\"; \n\n/*\n\tThe following options are used for debugging purposes. \n\tThis can be removed when going into production.\n*/\noptions SYMBOLGEN MPRINT MLOGIC;\n\n/*\n\tThe following option is there to let SAS know that it \n\tneeds to continue in case of exceptions.\n*/\noptions obs=max NOSYNTAXCHECK;\n\n/*\n\tDefine the run-time parameters for this flow. \n\n\tDELIVERING_PARTY is used in:\n\t\t- Pick file\n\t\t- Import Excel\n\t\t- Copy or move file\n\tROOT_DIR is used in:\n\t\t- Import TEST.CSV\n\t\t- Copy or move file\n\tPROCESS_DTTM is used in:\n\t\t- Query - Perform mapping\n\t\t- Update Table\n*/\n%LET DELIVERING_PARTY = 999_del;\n%LET ROOT_DIR = /workshop/dift/;\n%LET PROCESSED_DTTM = %SYSFUNC(DATETIME(), DATETIME.);\n\n/*\n\tDefine the parameters for the 'Store run-time information' custom step.\n*/\n%LET FLOW_NAME = Populate_Orderfact;\n%LET TARGET_TABLE = ORDER_FACT;\n%LET START_DTTM = %SYSFUNC(DATETIME(), DATETIME.);","logHTML":"","resultsHTML":"","variables":[{"name":"_output1","value":{"referenceType":"outputPort","portName":"outTables","portIndex":0}},{"name":"_input1","value":{"referenceType":"inputPort","portName":"inTables","portIndex":0}}]}}}},"parameters":{},"connections":[{"sourcePort":{"node":"id-1626864999928-74168","portName":"outTables","index":0},"targetPort":{"node":"id-1626864821396-73863","portName":"inTables","index":0}}],"extendedProperties":{}}